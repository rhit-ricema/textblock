{"version":3,"file":"index.umd.js","sources":["../src/components/EditIcon.js","../src/components/Input.js","../src/propTypes.js","../src/EditText.js","../src/components/Textarea.js","../src/EditTextarea.js"],"sourcesContent":["import React from 'react';\n\nconst EditIcon = () => {\n  return (\n    <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'>\n      <path d='M421.7 220.3L188.5 453.4L154.6 419.5L158.1 416H112C103.2 416 96 408.8 96 400V353.9L92.51 357.4C87.78 362.2 84.31 368 82.42 374.4L59.44 452.6L137.6 429.6C143.1 427.7 149.8 424.2 154.6 419.5L188.5 453.4C178.1 463.8 165.2 471.5 151.1 475.6L30.77 511C22.35 513.5 13.24 511.2 7.03 504.1C.8198 498.8-1.502 489.7 .976 481.2L36.37 360.9C40.53 346.8 48.16 333.9 58.57 323.5L291.7 90.34L421.7 220.3zM492.7 58.75C517.7 83.74 517.7 124.3 492.7 149.3L444.3 197.7L314.3 67.72L362.7 19.32C387.7-5.678 428.3-5.678 453.3 19.32L492.7 58.75z' />\n    </svg>\n  );\n};\n\nexport default EditIcon;\n","import classnames from 'classnames';\nimport React from 'react';\nimport styles from '../styles.module.css';\n\nconst Input = ({\n  props: { id, inline, style, type, name },\n  inputRef,\n  handleBlur,\n  handleKeydown,\n  handleFocus,\n  inputClassName,\n  ...rest\n}) => {\n  return (\n    <input\n      id={id}\n      className={classnames(styles.shared, inputClassName, {\n        [styles.inline]: inline\n      })}\n      style={style}\n      ref={inputRef}\n      type={type}\n      name={name}\n      onBlur={handleBlur}\n      onKeyDown={handleKeydown}\n      autoFocus\n      onFocus={handleFocus}\n      {...rest}\n    />\n  );\n};\n\nexport default Input;\n","import PropTypes from 'prop-types';\n\nconst sharedPropTypes = {\n  id: PropTypes.string,\n  name: PropTypes.string,\n  className: PropTypes.string,\n  value: PropTypes.string,\n  formatDisplayText: PropTypes.func,\n  defaultValue: PropTypes.string,\n  placeholder: PropTypes.string,\n  onSave: PropTypes.func,\n  onChange: PropTypes.func,\n  onEditMode: PropTypes.func,\n  onBlur: PropTypes.func,\n  style: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n  readonly: PropTypes.bool,\n  inputClassName: PropTypes.string\n};\n\nexport const EditTextPropTypes = {\n  ...sharedPropTypes,\n  type: PropTypes.string,\n  inline: PropTypes.bool,\n  showEditButton: PropTypes.bool,\n  editButtonContent: PropTypes.any,\n  editButtonProps: PropTypes.object\n};\n\nexport const EditTextareaPropTypes = {\n  ...sharedPropTypes,\n  rows: PropTypes.oneOfType([PropTypes.number, PropTypes.oneOf(['auto'])])\n};\n","import classnames from 'classnames';\nimport React from 'react';\nimport EditIcon from './components/EditIcon';\nimport Input from './components/Input';\nimport { EditTextPropTypes } from './propTypes';\nimport styles from './styles.module.css';\n\nexport default function EditText({\n  id,\n  name,\n  className,\n  placeholder = '',\n  inline = false,\n  style = {},\n  readonly = false,\n  type = 'text',\n  value,\n  defaultValue,\n  formatDisplayText = (x) => x,\n  onEditMode = () => {},\n  onChange = () => {},\n  onSave = () => {},\n  onBlur = () => {},\n  showEditButton = false,\n  editButtonContent = <EditIcon />,\n  editButtonProps = {},\n  inputClassName\n}) {\n  const inputRef = React.useRef(null);\n  const [changeEvent, setChangeEvent] = React.useState({});\n  const [previousValue, setPreviousValue] = React.useState('');\n  const [savedText, setSavedText] = React.useState('');\n  const [editMode, setEditMode] = React.useState(false);\n\n  React.useEffect(() => {\n    if (defaultValue !== undefined) {\n      setPreviousValue(defaultValue);\n      setSavedText(defaultValue);\n    }\n  }, [defaultValue]);\n\n  React.useEffect(() => {\n    if (value !== undefined) {\n      setSavedText(value);\n      if (!editMode) {\n        setPreviousValue(value);\n      }\n    }\n  }, [value, editMode]);\n\n  const handleClickDisplay = () => {\n    if (readonly || showEditButton) return;\n    setEditMode(true);\n    onEditMode();\n  };\n\n  const handleClickEditButton = () => {\n    setEditMode(true);\n    onEditMode();\n  };\n\n  const handleBlur = (save = true) => {\n    if (inputRef.current) {\n      const { name: inputName, value: inputValue } = inputRef.current;\n      if (save && previousValue !== inputValue) {\n        onSave({\n          name: inputName,\n          value: inputValue,\n          previousValue: previousValue\n        });\n        setSavedText(inputValue);\n        setPreviousValue(inputValue);\n      } else if (!save) {\n        onChange({\n          ...changeEvent,\n          target: changeEvent.target\n            ? { ...changeEvent.target, value: previousValue }\n            : { value: previousValue }\n        });\n      }\n      setEditMode(false);\n      onBlur();\n    }\n  };\n\n  const handleKeydown = (e) => {\n    if (e.keyCode === 13 || e.charCode === 13) {\n      handleBlur();\n    } else if (e.keyCode === 27 || e.charCode === 27) {\n      handleBlur(false);\n    }\n  };\n\n  const handleFocus = (e) => {\n    if (type === 'text') {\n      e.currentTarget.setSelectionRange(\n        e.currentTarget.value.length,\n        e.currentTarget.value.length\n      );\n    }\n  };\n\n  const renderDisplayMode = () => {\n    return (\n      <div\n        className={classnames(styles.displayContainer, {\n          [styles.inline]: inline\n        })}\n      >\n        <div\n          id={id}\n          className={classnames(\n            styles.label,\n            styles.shared,\n            {\n              [styles.placeholder]: placeholder && !savedText,\n              [styles.inline]: inline,\n              [styles.readonly]: readonly || showEditButton\n            },\n            className\n          )}\n          onClick={handleClickDisplay}\n          style={style}\n          aria-label='display component'\n        >\n          {formatDisplayText(savedText) || placeholder}\n        </div>\n        {showEditButton && !readonly && (\n          <button\n            type='button'\n            className={styles.editButton}\n            {...editButtonProps}\n            onClick={handleClickEditButton}\n          >\n            {editButtonContent}\n          </button>\n        )}\n      </div>\n    );\n  };\n\n  const renderEditMode = (controlled) => {\n    const sharedProps = {\n      inputRef: inputRef,\n      handleBlur: handleBlur,\n      handleKeydown: handleKeydown,\n      handleFocus: handleFocus,\n      props: { id, inline, style, type, name },\n      ['aria-label']: 'input component'\n    };\n    return controlled ? (\n      <Input\n        {...sharedProps}\n        value={value}\n        onChange={(e) => {\n          setChangeEvent(e);\n          onChange(e);\n        }}\n        inputClassName={inputClassName}\n      />\n    ) : (\n      <Input\n        {...sharedProps}\n        defaultValue={savedText}\n        inputClassName={inputClassName}\n      />\n    );\n  };\n\n  return !readonly && editMode\n    ? renderEditMode(value !== undefined && onChange !== undefined)\n    : renderDisplayMode();\n}\n\nEditText.propTypes = EditTextPropTypes;\n","import classnames from 'classnames';\nimport React from 'react';\nimport styles from '../styles.module.css';\n\nconst Textarea = ({\n  props: { id, rows, style, name },\n  inputRef,\n  handleBlur,\n  handleKeydown,\n  inputClassName,\n  ...rest\n}) => {\n  return (\n    <textarea\n      id={id}\n      className={classnames(styles.shared, inputClassName)}\n      style={style}\n      ref={inputRef}\n      rows={rows}\n      name={name}\n      onBlur={handleBlur}\n      onKeyDown={handleKeydown}\n      autoFocus\n      onFocus={(e) =>\n        e.currentTarget.setSelectionRange(\n          e.currentTarget.value.length,\n          e.currentTarget.value.length\n        )\n      }\n      {...rest}\n    />\n  );\n};\n\nexport default Textarea;\n","import classnames from 'classnames';\nimport React from 'react';\nimport Textarea from './components/Textarea';\nimport { EditTextareaPropTypes } from './propTypes';\nimport styles from './styles.module.css';\n\nconst splitLines = (val) => (val ? val.split(/\\r?\\n/) : []);\n\nexport default function EditTextarea({\n  id,\n  rows = 3,\n  name,\n  className,\n  placeholder = '',\n  style = {},\n  readonly = false,\n  value,\n  defaultValue,\n  formatDisplayText = (x) => x,\n  onEditMode = () => {},\n  onChange = () => {},\n  onSave = () => {},\n  onBlur = () => {},\n  inputClassName\n}) {\n  const inputRef = React.useRef(null);\n  const [changeEvent, setChangeEvent] = React.useState({});\n  const [previousValue, setPreviousValue] = React.useState('');\n  const [savedText, setSavedText] = React.useState('');\n  const [editMode, setEditMode] = React.useState(false);\n\n  React.useEffect(() => {\n    if (defaultValue !== undefined) {\n      setPreviousValue(defaultValue);\n      setSavedText(defaultValue);\n    }\n  }, [defaultValue]);\n\n  React.useEffect(() => {\n    if (value !== undefined) {\n      setSavedText(value);\n      if (!editMode) {\n        setPreviousValue(value);\n      }\n    }\n  }, [value, editMode]);\n\n  const handleClick = () => {\n    if (readonly) return;\n    setEditMode(true);\n    onEditMode();\n  };\n\n  const handleBlur = (save = true) => {\n    if (inputRef.current) {\n      const { name: inputName, value: inputValue } = inputRef.current;\n      if (save && previousValue !== inputValue) {\n        onSave({\n          name: inputName,\n          value: inputValue,\n          previousValue: previousValue\n        });\n        setSavedText(inputValue);\n        setPreviousValue(inputValue);\n      } else if (!save) {\n        onChange({\n          ...changeEvent,\n          target: changeEvent.target\n            ? { ...changeEvent.target, value: previousValue }\n            : { value: previousValue }\n        });\n      }\n      setEditMode(false);\n      onBlur();\n    }\n  };\n\n  const handleKeydown = (e) => {\n    if (e.keyCode === 27 || e.charCode === 27) {\n      handleBlur(false);\n    }\n  };\n\n  const renderDisplayMode = () => {\n    const textLines = splitLines(formatDisplayText(savedText));\n    return (\n      <div\n        id={id}\n        className={classnames(\n          styles.shared,\n          styles.textareaView,\n          {\n            [styles.placeholder]: placeholder && !savedText,\n            [styles.readonly]: readonly\n          },\n          className\n        )}\n        onClick={handleClick}\n        style={{\n          ...style,\n          height: rows === 'auto' ? 'auto' : `${rows * 24 + 16}px`\n        }}\n        aria-label='display component'\n      >\n        {textLines.length > 0 ? (\n          textLines.map((text, index) => (\n            <React.Fragment key={index}>\n              <span>{text}</span>\n              <br />\n            </React.Fragment>\n          ))\n        ) : (\n          <span>{placeholder}</span>\n        )}\n      </div>\n    );\n  };\n\n  const renderEditMode = (controlled) => {\n    const sharedProps = {\n      inputRef: inputRef,\n      handleBlur: handleBlur,\n      handleKeydown: handleKeydown,\n      props: { id, rows, style, name },\n      ['aria-label']: 'textarea component'\n    };\n    return controlled ? (\n      <Textarea\n        {...sharedProps}\n        value={value}\n        onChange={(e) => {\n          setChangeEvent(e);\n          onChange(e);\n        }}\n        inputClassName={inputClassName}\n      />\n    ) : (\n      <Textarea\n        {...sharedProps}\n        defaultValue={savedText}\n        inputClassName={inputClassName}\n      />\n    );\n  };\n\n  return !readonly && editMode\n    ? renderEditMode(value !== undefined && onChange !== undefined)\n    : renderDisplayMode();\n}\n\nEditTextarea.propTypes = EditTextareaPropTypes;\n"],"names":["EditIcon","_jsx","Input","props","id","inline","style","type","name","inputRef","handleBlur","handleKeydown","handleFocus","inputClassName","rest","_excluded","classnames","styles","shared","sharedPropTypes","PropTypes","string","className","value","formatDisplayText","func","defaultValue","placeholder","onSave","onChange","onEditMode","onBlur","oneOfType","object","array","readonly","bool","EditTextPropTypes","showEditButton","editButtonContent","any","editButtonProps","EditTextareaPropTypes","rows","number","oneOf","EditText","x","React","useRef","useState","changeEvent","setChangeEvent","previousValue","setPreviousValue","savedText","setSavedText","editMode","setEditMode","useEffect","undefined","handleClickDisplay","handleClickEditButton","save","current","inputName","inputValue","target","e","keyCode","charCode","currentTarget","setSelectionRange","length","renderDisplayMode","_jsxs","displayContainer","label","editButton","renderEditMode","controlled","sharedProps","propTypes","Textarea","splitLines","val","split","EditTextarea","handleClick","textLines","textareaView","height","map","text","index"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAEA,IAAMA,QAAQ,GAAG,SAAXA,QAAW,GAAM;IACrB,oBACEC,cAAA,CAAA,KAAA,EAAA;EAAK,IAAA,KAAK,EAAC,4BAAX;EAAwC,IAAA,OAAO,EAAC,aAAhD;MAAA,QACE,eAAAA,cAAA,CAAA,MAAA,EAAA;EAAM,MAAA,CAAC,EAAC,4gBAAA;EAAR,KAAA,CAAA;KAFJ,CAAA,CAAA;EAKD,CAND;;;;;;ECEA,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAQR,IAAA,EAAA;EAAA,EAAA,IAAA,WAAA,CAAA;;EAAA,EAAA,IAAA,UAAA,GAAA,IAAA,CAPJC,KAOI;QAPKC,EAOL,cAPKA,EAOL;QAPSC,MAOT,cAPSA,MAOT;QAPiBC,KAOjB,cAPiBA,KAOjB;QAPwBC,IAOxB,cAPwBA,IAOxB;QAP8BC,IAO9B,cAP8BA,IAO9B;QANJC,QAMI,QANJA,QAMI;QALJC,UAKI,QALJA,UAKI;QAJJC,aAII,QAJJA,aAII;QAHJC,WAGI,QAHJA,WAGI;QAFJC,cAEI,QAFJA,cAEI;EAAA,MADDC,IACC,GAAA,6BAAA,CAAA,IAAA,EAAAC,WAAA,CAAA,CAAA;;IACJ,oBACEd,cAAA,CAAA,OAAA,EAAA,QAAA,CAAA;EACE,IAAA,EAAE,EAAEG,EADN;EAEE,IAAA,SAAS,EAAEY,8BAAU,CAACC,MAAM,CAACC,MAAR,EAAgBL,cAAhB,GAAA,WAAA,GAAA,EAAA,EAAA,WAAA,CAClBI,MAAM,CAACZ,MADW,CAAA,GACFA,MADE,EAFvB,WAAA,EAAA;EAKE,IAAA,KAAK,EAAEC,KALT;EAME,IAAA,GAAG,EAAEG,QANP;EAOE,IAAA,IAAI,EAAEF,IAPR;EAQE,IAAA,IAAI,EAAEC,IARR;EASE,IAAA,MAAM,EAAEE,UATV;EAUE,IAAA,SAAS,EAAEC,aAVb;EAWE,IAAA,SAAS,EAXX,IAAA;EAYE,IAAA,OAAO,EAAEC,WAAAA;EAZX,GAAA,EAaME,IAbN,CADF,CAAA,CAAA;EAiBD,CA1BD;;ECFA,IAAMK,eAAe,GAAG;IACtBf,EAAE,EAAEgB,6BAAS,CAACC,MADQ;IAEtBb,IAAI,EAAEY,6BAAS,CAACC,MAFM;IAGtBC,SAAS,EAAEF,6BAAS,CAACC,MAHC;IAItBE,KAAK,EAAEH,6BAAS,CAACC,MAJK;IAKtBG,iBAAiB,EAAEJ,6BAAS,CAACK,IALP;IAMtBC,YAAY,EAAEN,6BAAS,CAACC,MANF;IAOtBM,WAAW,EAAEP,6BAAS,CAACC,MAPD;IAQtBO,MAAM,EAAER,6BAAS,CAACK,IARI;IAStBI,QAAQ,EAAET,6BAAS,CAACK,IATE;IAUtBK,UAAU,EAAEV,6BAAS,CAACK,IAVA;IAWtBM,MAAM,EAAEX,6BAAS,CAACK,IAXI;EAYtBnB,EAAAA,KAAK,EAAEc,6BAAS,CAACY,SAAV,CAAoB,CAACZ,6BAAS,CAACa,MAAX,EAAmBb,6BAAS,CAACc,KAA7B,CAApB,CAZe;IAatBC,QAAQ,EAAEf,6BAAS,CAACgB,IAbE;IActBvB,cAAc,EAAEO,6BAAS,CAACC,MAAAA;EAdJ,CAAxB,CAAA;EAiBO,IAAMgB,iBAAiB,GAAA,QAAA,CAAA,EAAA,EACzBlB,eADyB,EAAA;IAE5BZ,IAAI,EAAEa,6BAAS,CAACC,MAFY;IAG5BhB,MAAM,EAAEe,6BAAS,CAACgB,IAHU;IAI5BE,cAAc,EAAElB,6BAAS,CAACgB,IAJE;IAK5BG,iBAAiB,EAAEnB,6BAAS,CAACoB,GALD;IAM5BC,eAAe,EAAErB,6BAAS,CAACa,MAAAA;EANC,CAAvB,CAAA,CAAA;EASA,IAAMS,qBAAqB,GAAA,QAAA,CAAA,EAAA,EAC7BvB,eAD6B,EAAA;EAEhCwB,EAAAA,IAAI,EAAEvB,6BAAS,CAACY,SAAV,CAAoB,CAACZ,6BAAS,CAACwB,MAAX,EAAmBxB,6BAAS,CAACyB,KAAV,CAAgB,CAAC,MAAD,CAAhB,CAAnB,CAApB,CAAA;EAF0B,CAA3B,CAAA;;ECrBQ,SAASC,QAAT,CAoBZ,IAAA,EAAA;IAAA,IAnBD1C,EAmBC,QAnBDA,EAmBC;QAlBDI,IAkBC,QAlBDA,IAkBC;QAjBDc,SAiBC,QAjBDA,SAiBC;EAAA,MAAA,gBAAA,GAAA,IAAA,CAhBDK,WAgBC;QAhBDA,WAgBC,iCAhBa,EAgBb,GAAA,gBAAA;EAAA,MAAA,WAAA,GAAA,IAAA,CAfDtB,MAeC;QAfDA,MAeC,4BAfQ,KAeR,GAAA,WAAA;EAAA,MAAA,UAAA,GAAA,IAAA,CAdDC,KAcC;QAdDA,KAcC,2BAdO,EAcP,GAAA,UAAA;EAAA,MAAA,aAAA,GAAA,IAAA,CAbD6B,QAaC;QAbDA,QAaC,8BAbU,KAaV,GAAA,aAAA;EAAA,MAAA,SAAA,GAAA,IAAA,CAZD5B,IAYC;QAZDA,IAYC,0BAZM,MAYN,GAAA,SAAA;QAXDgB,KAWC,QAXDA,KAWC;QAVDG,YAUC,QAVDA,YAUC;EAAA,MAAA,qBAAA,GAAA,IAAA,CATDF,iBASC;QATDA,iBASC,GATmB,qBAAA,KAAA,KAAA,CAAA,GAAA,UAACuB,CAAD,EAAA;EAAA,IAAA,OAAOA,CAAP,CAAA;KASnB,GAAA,qBAAA;EAAA,MAAA,eAAA,GAAA,IAAA,CARDjB,UAQC;EAAA,MARDA,UAQC,GAAA,eAAA,KAAA,KAAA,CAAA,GARY,YAAM,EAQlB,GAAA,eAAA;EAAA,MAAA,aAAA,GAAA,IAAA,CAPDD,QAOC;EAAA,MAPDA,SAOC,GAAA,aAAA,KAAA,KAAA,CAAA,GAPU,YAAM,EAOhB,GAAA,aAAA;EAAA,MAAA,WAAA,GAAA,IAAA,CANDD,MAMC;EAAA,MANDA,MAMC,GAAA,WAAA,KAAA,KAAA,CAAA,GANQ,YAAM,EAMd,GAAA,WAAA;EAAA,MAAA,WAAA,GAAA,IAAA,CALDG,MAKC;EAAA,MALDA,MAKC,GAAA,WAAA,KAAA,KAAA,CAAA,GALQ,YAAM,EAKd,GAAA,WAAA;EAAA,MAAA,mBAAA,GAAA,IAAA,CAJDO,cAIC;QAJDA,cAIC,oCAJgB,KAIhB,GAAA,mBAAA;EAAA,MAAA,qBAAA,GAAA,IAAA,CAHDC,iBAGC;EAAA,MAHDA,iBAGC,GAAA,qBAAA,KAAA,KAAA,CAAA,gBAHmBtC,cAAC,CAAA,QAAD,EAGnB,EAAA,CAAA,GAAA,qBAAA;EAAA,MAAA,oBAAA,GAAA,IAAA,CAFDwC,eAEC;QAFDA,eAEC,qCAFiB,EAEjB,GAAA,oBAAA;QADD5B,cACC,QADDA,cACC,CAAA;;EACD,EAAA,IAAMJ,QAAQ,GAAGuC,yBAAK,CAACC,MAAN,CAAa,IAAb,CAAjB,CAAA;;EACA,EAAA,IAAA,eAAA,GAAsCD,yBAAK,CAACE,QAAN,CAAe,EAAf,CAAtC;EAAA,MAAOC,WAAP,GAAA,eAAA,CAAA,CAAA,CAAA;EAAA,MAAoBC,cAApB,GAAA,eAAA,CAAA,CAAA,CAAA,CAAA;;EACA,EAAA,IAAA,gBAAA,GAA0CJ,yBAAK,CAACE,QAAN,CAAe,EAAf,CAA1C;EAAA,MAAOG,aAAP,GAAA,gBAAA,CAAA,CAAA,CAAA;EAAA,MAAsBC,gBAAtB,GAAA,gBAAA,CAAA,CAAA,CAAA,CAAA;;EACA,EAAA,IAAA,gBAAA,GAAkCN,yBAAK,CAACE,QAAN,CAAe,EAAf,CAAlC;EAAA,MAAOK,SAAP,GAAA,gBAAA,CAAA,CAAA,CAAA;EAAA,MAAkBC,YAAlB,GAAA,gBAAA,CAAA,CAAA,CAAA,CAAA;;EACA,EAAA,IAAA,gBAAA,GAAgCR,yBAAK,CAACE,QAAN,CAAe,KAAf,CAAhC;EAAA,MAAOO,QAAP,GAAA,gBAAA,CAAA,CAAA,CAAA;EAAA,MAAiBC,WAAjB,GAAA,gBAAA,CAAA,CAAA,CAAA,CAAA;;IAEAV,yBAAK,CAACW,SAAN,CAAgB,YAAM;MACpB,IAAIjC,YAAY,KAAKkC,SAArB,EAAgC;QAC9BN,gBAAgB,CAAC5B,YAAD,CAAhB,CAAA;QACA8B,YAAY,CAAC9B,YAAD,CAAZ,CAAA;EACD,KAAA;KAJH,EAKG,CAACA,YAAD,CALH,CAAA,CAAA;IAOAsB,yBAAK,CAACW,SAAN,CAAgB,YAAM;MACpB,IAAIpC,KAAK,KAAKqC,SAAd,EAAyB;QACvBJ,YAAY,CAACjC,KAAD,CAAZ,CAAA;;QACA,IAAI,CAACkC,QAAL,EAAe;UACbH,gBAAgB,CAAC/B,KAAD,CAAhB,CAAA;EACD,OAAA;EACF,KAAA;EACF,GAPD,EAOG,CAACA,KAAD,EAAQkC,QAAR,CAPH,CAAA,CAAA;;EASA,EAAA,IAAMI,kBAAkB,GAAG,SAArBA,kBAAqB,GAAM;MAC/B,IAAI1B,QAAQ,IAAIG,cAAhB,EAAgC,OAAA;MAChCoB,WAAW,CAAC,IAAD,CAAX,CAAA;MACA5B,UAAU,EAAA,CAAA;KAHZ,CAAA;;EAMA,EAAA,IAAMgC,qBAAqB,GAAG,SAAxBA,qBAAwB,GAAM;MAClCJ,WAAW,CAAC,IAAD,CAAX,CAAA;MACA5B,UAAU,EAAA,CAAA;KAFZ,CAAA;;EAKA,EAAA,IAAMpB,UAAU,GAAG,SAAbA,UAAa,CAACqD,IAAD,EAAiB;EAAA,IAAA,IAAhBA,IAAgB,KAAA,KAAA,CAAA,EAAA;EAAhBA,MAAAA,IAAgB,GAAT,IAAS,CAAA;EAAA,KAAA;;MAClC,IAAItD,QAAQ,CAACuD,OAAb,EAAsB;QACpB,IAA+CvD,iBAAAA,GAAAA,QAAQ,CAACuD,OAAxD;YAAcC,SAAd,qBAAQzD,IAAR;YAAgC0D,UAAhC,qBAAyB3C,KAAzB,CAAA;;EACA,MAAA,IAAIwC,IAAI,IAAIV,aAAa,KAAKa,UAA9B,EAA0C;EACxCtC,QAAAA,MAAM,CAAC;EACLpB,UAAAA,IAAI,EAAEyD,SADD;EAEL1C,UAAAA,KAAK,EAAE2C,UAFF;EAGLb,UAAAA,aAAa,EAAEA,aAAAA;EAHV,SAAD,CAAN,CAAA;UAKAG,YAAY,CAACU,UAAD,CAAZ,CAAA;UACAZ,gBAAgB,CAACY,UAAD,CAAhB,CAAA;EACD,OARD,MAQO,IAAI,CAACH,IAAL,EAAW;EAChBlC,QAAAA,SAAQ,cACHsB,WADG,EAAA;EAENgB,UAAAA,MAAM,EAAEhB,WAAW,CAACgB,MAAZ,GACChB,QAAAA,CAAAA,EAAAA,EAAAA,WAAW,CAACgB,MADb,EAAA;EACqB5C,YAAAA,KAAK,EAAE8B,aAAAA;aAChC,CAAA,GAAA;EAAE9B,YAAAA,KAAK,EAAE8B,aAAAA;EAAT,WAAA;WAJN,CAAA,CAAA,CAAA;EAMD,OAAA;;QACDK,WAAW,CAAC,KAAD,CAAX,CAAA;QACA3B,MAAM,EAAA,CAAA;EACP,KAAA;KArBH,CAAA;;EAwBA,EAAA,IAAMpB,aAAa,GAAG,SAAhBA,aAAgB,CAACyD,CAAD,EAAO;MAC3B,IAAIA,CAAC,CAACC,OAAF,KAAc,EAAd,IAAoBD,CAAC,CAACE,QAAF,KAAe,EAAvC,EAA2C;QACzC5D,UAAU,EAAA,CAAA;EACX,KAFD,MAEO,IAAI0D,CAAC,CAACC,OAAF,KAAc,EAAd,IAAoBD,CAAC,CAACE,QAAF,KAAe,EAAvC,EAA2C;QAChD5D,UAAU,CAAC,KAAD,CAAV,CAAA;EACD,KAAA;KALH,CAAA;;EAQA,EAAA,IAAME,WAAW,GAAG,SAAdA,WAAc,CAACwD,CAAD,EAAO;MACzB,IAAI7D,IAAI,KAAK,MAAb,EAAqB;EACnB6D,MAAAA,CAAC,CAACG,aAAF,CAAgBC,iBAAhB,CACEJ,CAAC,CAACG,aAAF,CAAgBhD,KAAhB,CAAsBkD,MADxB,EAEEL,CAAC,CAACG,aAAF,CAAgBhD,KAAhB,CAAsBkD,MAFxB,CAAA,CAAA;EAID,KAAA;KANH,CAAA;;EASA,EAAA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;EAAA,IAAA,IAAA,WAAA,EAAA,YAAA,CAAA;;MAC9B,oBACEC,eAAA,CAAA,KAAA,EAAA;EACE,MAAA,SAAS,EAAE3D,8BAAU,CAACC,MAAM,CAAC2D,gBAAR,GAClB3D,WAAAA,GAAAA,EAAAA,EAAAA,WAAAA,CAAAA,MAAM,CAACZ,MADW,CACFA,GAAAA,MADE,EADvB,WAAA,EAAA;QAAA,QAKE,EAAA,cAAAJ,cAAA,CAAA,KAAA,EAAA;EACE,QAAA,EAAE,EAAEG,EADN;EAEE,QAAA,SAAS,EAAEY,8BAAU,CACnBC,MAAM,CAAC4D,KADY,EAEnB5D,MAAM,CAACC,MAFY,GAIhBD,YAAAA,GAAAA,EAAAA,EAAAA,YAAAA,CAAAA,MAAM,CAACU,WAJS,IAIKA,WAAW,IAAI,CAAC4B,SAJrB,eAKhBtC,MAAM,CAACZ,MALS,CAAA,GAKAA,MALA,EAMhBY,YAAAA,CAAAA,MAAM,CAACkB,QANS,IAMEA,QAAQ,IAAIG,cANd,EAAA,YAAA,GAQnBhB,SARmB,CAFvB;EAYE,QAAA,OAAO,EAAEuC,kBAZX;EAaE,QAAA,KAAK,EAAEvD,KAbT;EAcE,QAAA,YAAA,EAAW,mBAdb;EAAA,QAAA,QAAA,EAgBGkB,iBAAiB,CAAC+B,SAAD,CAAjB,IAAgC5B,WAAAA;EAhBnC,OAAA,CALF,EAuBGW,cAAc,IAAI,CAACH,QAAnB,iBACClC,cAAA,CAAA,QAAA,EAAA,QAAA,CAAA;EACE,QAAA,IAAI,EAAC,QADP;UAEE,SAAS,EAAEgB,MAAM,CAAC6D,UAAAA;EAFpB,OAAA,EAGMrC,eAHN,EAAA;EAIE,QAAA,OAAO,EAAEqB,qBAJX;UAAA,QAMGvB,EAAAA,iBAAAA;SA9BP,CAAA,CAAA,CAAA;OADF,CAAA,CAAA;KADF,CAAA;;EAuCA,EAAA,IAAMwC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,UAAD,EAAgB;EAAA,IAAA,IAAA,YAAA,CAAA;;EACrC,IAAA,IAAMC,WAAW,IAAA,YAAA,GAAA;EACfxE,MAAAA,QAAQ,EAAEA,QADK;EAEfC,MAAAA,UAAU,EAAEA,UAFG;EAGfC,MAAAA,aAAa,EAAEA,aAHA;EAIfC,MAAAA,WAAW,EAAEA,WAJE;EAKfT,MAAAA,KAAK,EAAE;EAAEC,QAAAA,EAAE,EAAFA,EAAF;EAAMC,QAAAA,MAAM,EAANA,MAAN;EAAcC,QAAAA,KAAK,EAALA,KAAd;EAAqBC,QAAAA,IAAI,EAAJA,IAArB;EAA2BC,QAAAA,IAAI,EAAJA,IAAAA;EAA3B,OAAA;OACN,EAAA,YAAA,CAAA,YANc,CAMC,GAAA,iBAND,EAAjB,YAAA,CAAA,CAAA;EAQA,IAAA,OAAOwE,UAAU,gBACf/E,cAAC,CAAA,KAAD,eACMgF,WADN,EAAA;EAEE,MAAA,KAAK,EAAE1D,KAFT;QAGE,QAAQ,EAAE,SAAC6C,QAAAA,CAAAA,CAAD,EAAO;UACfhB,cAAc,CAACgB,CAAD,CAAd,CAAA;;UACAvC,SAAQ,CAACuC,CAAD,CAAR,CAAA;SALJ;EAOE,MAAA,cAAc,EAAEvD,cAAAA;EAPlB,KAAA,CAAA,CADe,gBAWfZ,cAAA,CAAC,KAAD,EAAA,QAAA,CAAA,EAAA,EACMgF,WADN,EAAA;EAEE,MAAA,YAAY,EAAE1B,SAFhB;EAGE,MAAA,cAAc,EAAE1C,cAAAA;OAdpB,CAAA,CAAA,CAAA;KATF,CAAA;;EA4BA,EAAA,OAAO,CAACsB,QAAD,IAAasB,QAAb,GACHsB,cAAc,CAACxD,KAAK,KAAKqC,SAAV,IAAuB/B,SAAQ,KAAK+B,SAArC,CADX,GAEHc,iBAAiB,EAFrB,CAAA;EAGD,CAAA;EAED5B,QAAQ,CAACoC,SAAT,GAAqB7C,iBAArB;;;;EC1KA,IAAM8C,QAAQ,GAAG,SAAXA,QAAW,CAOX,IAAA,EAAA;EAAA,EAAA,IAAA,UAAA,GAAA,IAAA,CANJhF,KAMI;QANKC,EAML,cANKA,EAML;QANSuC,IAMT,cANSA,IAMT;QANerC,KAMf,cANeA,KAMf;QANsBE,IAMtB,cANsBA,IAMtB;QALJC,QAKI,QALJA,QAKI;QAJJC,UAII,QAJJA,UAII;QAHJC,aAGI,QAHJA,aAGI;QAFJE,cAEI,QAFJA,cAEI;EAAA,MADDC,IACC,GAAA,6BAAA,CAAA,IAAA,EAAA,SAAA,CAAA,CAAA;;IACJ,oBACEb,cAAA,CAAA,UAAA,EAAA,QAAA,CAAA;EACE,IAAA,EAAE,EAAEG,EADN;MAEE,SAAS,EAAEY,8BAAU,CAACC,MAAM,CAACC,MAAR,EAAgBL,cAAhB,CAFvB;EAGE,IAAA,KAAK,EAAEP,KAHT;EAIE,IAAA,GAAG,EAAEG,QAJP;EAKE,IAAA,IAAI,EAAEkC,IALR;EAME,IAAA,IAAI,EAAEnC,IANR;EAOE,IAAA,MAAM,EAAEE,UAPV;EAQE,IAAA,SAAS,EAAEC,aARb;EASE,IAAA,SAAS,EATX,IAAA;MAUE,OAAO,EAAE,iBAACyD,CAAD,EAAA;QAAA,OACPA,CAAC,CAACG,aAAF,CAAgBC,iBAAhB,CACEJ,CAAC,CAACG,aAAF,CAAgBhD,KAAhB,CAAsBkD,MADxB,EAEEL,CAAC,CAACG,aAAF,CAAgBhD,KAAhB,CAAsBkD,MAFxB,CADO,CAAA;EAAA,KAAA;EAVX,GAAA,EAgBM3D,IAhBN,CADF,CAAA,CAAA;EAoBD,CA5BD;;ECEA,IAAMsE,UAAU,GAAG,SAAbA,UAAa,CAACC,GAAD,EAAA;IAAA,OAAUA,GAAG,GAAGA,GAAG,CAACC,KAAJ,CAAU,OAAV,CAAH,GAAwB,EAArC,CAAA;EAAA,CAAnB,CAAA;;EAEe,SAASC,YAAT,CAgBZ,IAAA,EAAA;IAAA,IAfDnF,EAeC,QAfDA,EAeC;EAAA,MAAA,SAAA,GAAA,IAAA,CAdDuC,IAcC;QAdDA,IAcC,0BAdM,CAcN,GAAA,SAAA;QAbDnC,IAaC,QAbDA,IAaC;QAZDc,SAYC,QAZDA,SAYC;EAAA,MAAA,gBAAA,GAAA,IAAA,CAXDK,WAWC;QAXDA,WAWC,iCAXa,EAWb,GAAA,gBAAA;EAAA,MAAA,UAAA,GAAA,IAAA,CAVDrB,KAUC;QAVDA,KAUC,2BAVO,EAUP,GAAA,UAAA;EAAA,MAAA,aAAA,GAAA,IAAA,CATD6B,QASC;QATDA,QASC,8BATU,KASV,GAAA,aAAA;QARDZ,KAQC,QARDA,KAQC;QAPDG,YAOC,QAPDA,YAOC;EAAA,MAAA,qBAAA,GAAA,IAAA,CANDF,iBAMC;QANDA,iBAMC,GANmB,qBAAA,KAAA,KAAA,CAAA,GAAA,UAACuB,CAAD,EAAA;EAAA,IAAA,OAAOA,CAAP,CAAA;KAMnB,GAAA,qBAAA;EAAA,MAAA,eAAA,GAAA,IAAA,CALDjB,UAKC;EAAA,MALDA,UAKC,GAAA,eAAA,KAAA,KAAA,CAAA,GALY,YAAM,EAKlB,GAAA,eAAA;EAAA,MAAA,aAAA,GAAA,IAAA,CAJDD,QAIC;EAAA,MAJDA,SAIC,GAAA,aAAA,KAAA,KAAA,CAAA,GAJU,YAAM,EAIhB,GAAA,aAAA;EAAA,MAAA,WAAA,GAAA,IAAA,CAHDD,MAGC;EAAA,MAHDA,MAGC,GAAA,WAAA,KAAA,KAAA,CAAA,GAHQ,YAAM,EAGd,GAAA,WAAA;EAAA,MAAA,WAAA,GAAA,IAAA,CAFDG,MAEC;EAAA,MAFDA,MAEC,GAAA,WAAA,KAAA,KAAA,CAAA,GAFQ,YAAM,EAEd,GAAA,WAAA;QADDlB,cACC,QADDA,cACC,CAAA;;EACD,EAAA,IAAMJ,QAAQ,GAAGuC,yBAAK,CAACC,MAAN,CAAa,IAAb,CAAjB,CAAA;;EACA,EAAA,IAAA,eAAA,GAAsCD,yBAAK,CAACE,QAAN,CAAe,EAAf,CAAtC;EAAA,MAAOC,WAAP,GAAA,eAAA,CAAA,CAAA,CAAA;EAAA,MAAoBC,cAApB,GAAA,eAAA,CAAA,CAAA,CAAA,CAAA;;EACA,EAAA,IAAA,gBAAA,GAA0CJ,yBAAK,CAACE,QAAN,CAAe,EAAf,CAA1C;EAAA,MAAOG,aAAP,GAAA,gBAAA,CAAA,CAAA,CAAA;EAAA,MAAsBC,gBAAtB,GAAA,gBAAA,CAAA,CAAA,CAAA,CAAA;;EACA,EAAA,IAAA,gBAAA,GAAkCN,yBAAK,CAACE,QAAN,CAAe,EAAf,CAAlC;EAAA,MAAOK,SAAP,GAAA,gBAAA,CAAA,CAAA,CAAA;EAAA,MAAkBC,YAAlB,GAAA,gBAAA,CAAA,CAAA,CAAA,CAAA;;EACA,EAAA,IAAA,gBAAA,GAAgCR,yBAAK,CAACE,QAAN,CAAe,KAAf,CAAhC;EAAA,MAAOO,QAAP,GAAA,gBAAA,CAAA,CAAA,CAAA;EAAA,MAAiBC,WAAjB,GAAA,gBAAA,CAAA,CAAA,CAAA,CAAA;;IAEAV,yBAAK,CAACW,SAAN,CAAgB,YAAM;MACpB,IAAIjC,YAAY,KAAKkC,SAArB,EAAgC;QAC9BN,gBAAgB,CAAC5B,YAAD,CAAhB,CAAA;QACA8B,YAAY,CAAC9B,YAAD,CAAZ,CAAA;EACD,KAAA;KAJH,EAKG,CAACA,YAAD,CALH,CAAA,CAAA;IAOAsB,yBAAK,CAACW,SAAN,CAAgB,YAAM;MACpB,IAAIpC,KAAK,KAAKqC,SAAd,EAAyB;QACvBJ,YAAY,CAACjC,KAAD,CAAZ,CAAA;;QACA,IAAI,CAACkC,QAAL,EAAe;UACbH,gBAAgB,CAAC/B,KAAD,CAAhB,CAAA;EACD,OAAA;EACF,KAAA;EACF,GAPD,EAOG,CAACA,KAAD,EAAQkC,QAAR,CAPH,CAAA,CAAA;;EASA,EAAA,IAAM+B,WAAW,GAAG,SAAdA,WAAc,GAAM;EACxB,IAAA,IAAIrD,QAAJ,EAAc,OAAA;MACduB,WAAW,CAAC,IAAD,CAAX,CAAA;MACA5B,UAAU,EAAA,CAAA;KAHZ,CAAA;;EAMA,EAAA,IAAMpB,UAAU,GAAG,SAAbA,UAAa,CAACqD,IAAD,EAAiB;EAAA,IAAA,IAAhBA,IAAgB,KAAA,KAAA,CAAA,EAAA;EAAhBA,MAAAA,IAAgB,GAAT,IAAS,CAAA;EAAA,KAAA;;MAClC,IAAItD,QAAQ,CAACuD,OAAb,EAAsB;QACpB,IAA+CvD,iBAAAA,GAAAA,QAAQ,CAACuD,OAAxD;YAAcC,SAAd,qBAAQzD,IAAR;YAAgC0D,UAAhC,qBAAyB3C,KAAzB,CAAA;;EACA,MAAA,IAAIwC,IAAI,IAAIV,aAAa,KAAKa,UAA9B,EAA0C;EACxCtC,QAAAA,MAAM,CAAC;EACLpB,UAAAA,IAAI,EAAEyD,SADD;EAEL1C,UAAAA,KAAK,EAAE2C,UAFF;EAGLb,UAAAA,aAAa,EAAEA,aAAAA;EAHV,SAAD,CAAN,CAAA;UAKAG,YAAY,CAACU,UAAD,CAAZ,CAAA;UACAZ,gBAAgB,CAACY,UAAD,CAAhB,CAAA;EACD,OARD,MAQO,IAAI,CAACH,IAAL,EAAW;EAChBlC,QAAAA,SAAQ,cACHsB,WADG,EAAA;EAENgB,UAAAA,MAAM,EAAEhB,WAAW,CAACgB,MAAZ,GACChB,QAAAA,CAAAA,EAAAA,EAAAA,WAAW,CAACgB,MADb,EAAA;EACqB5C,YAAAA,KAAK,EAAE8B,aAAAA;aAChC,CAAA,GAAA;EAAE9B,YAAAA,KAAK,EAAE8B,aAAAA;EAAT,WAAA;WAJN,CAAA,CAAA,CAAA;EAMD,OAAA;;QACDK,WAAW,CAAC,KAAD,CAAX,CAAA;QACA3B,MAAM,EAAA,CAAA;EACP,KAAA;KArBH,CAAA;;EAwBA,EAAA,IAAMpB,aAAa,GAAG,SAAhBA,aAAgB,CAACyD,CAAD,EAAO;MAC3B,IAAIA,CAAC,CAACC,OAAF,KAAc,EAAd,IAAoBD,CAAC,CAACE,QAAF,KAAe,EAAvC,EAA2C;QACzC5D,UAAU,CAAC,KAAD,CAAV,CAAA;EACD,KAAA;KAHH,CAAA;;EAMA,EAAA,IAAMgE,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;EAAA,IAAA,IAAA,WAAA,CAAA;;MAC9B,IAAMe,SAAS,GAAGL,UAAU,CAAC5D,iBAAiB,CAAC+B,SAAD,CAAlB,CAA5B,CAAA;MACA,oBACEtD,cAAA,CAAA,KAAA,EAAA;EACE,MAAA,EAAE,EAAEG,EADN;QAEE,SAAS,EAAEY,8BAAU,CACnBC,MAAM,CAACC,MADY,EAEnBD,MAAM,CAACyE,YAFY,GAAA,WAAA,GAAA,EAAA,EAAA,WAAA,CAIhBzE,MAAM,CAACU,WAJS,CAAA,GAIKA,WAAW,IAAI,CAAC4B,SAJrB,EAKhBtC,WAAAA,CAAAA,MAAM,CAACkB,QALS,CAKEA,GAAAA,QALF,EAOnBb,WAAAA,GAAAA,SAPmB,CAFvB;EAWE,MAAA,OAAO,EAAEkE,WAXX;EAYE,MAAA,KAAK,eACAlF,KADA,EAAA;UAEHqF,MAAM,EAAEhD,IAAI,KAAK,MAAT,GAAkB,MAAlB,GAA8BA,IAAI,GAAG,EAAP,GAAY,EAA1C,GAAA,IAAA;SAdZ,CAAA;EAgBE,MAAA,YAAA,EAAW,mBAhBb;EAAA,MAAA,QAAA,EAkBG8C,SAAS,CAAChB,MAAV,GAAmB,CAAnB,GACCgB,SAAS,CAACG,GAAV,CAAc,UAACC,IAAD,EAAOC,KAAP,EAAA;UAAA,oBACZnB,eAAA,CAAC3B,yBAAD,CAAO,QAAP,EAAA;YAAA,QACE,EAAA,cAAA/C,cAAA,CAAA,MAAA,EAAA;cAAA,QAAO4F,EAAAA,IAAAA;EAAP,WAAA,CADF,eAEE5F,cAFF,CAAA,IAAA,EAAA,EAAA,CAAA,CAAA;EAAA,SAAA,EAAqB6F,KAArB,CADY,CAAA;EAAA,OAAd,CADD,gBAQC7F,cAAA,CAAA,MAAA,EAAA;UAAA,QAAO0B,EAAAA,WAAAA;EAAP,OAAA,CAAA;OA3BN,CAAA,CAAA;KAFF,CAAA;;EAmCA,EAAA,IAAMoD,cAAc,GAAG,SAAjBA,cAAiB,CAACC,UAAD,EAAgB;EAAA,IAAA,IAAA,YAAA,CAAA;;EACrC,IAAA,IAAMC,WAAW,IAAA,YAAA,GAAA;EACfxE,MAAAA,QAAQ,EAAEA,QADK;EAEfC,MAAAA,UAAU,EAAEA,UAFG;EAGfC,MAAAA,aAAa,EAAEA,aAHA;EAIfR,MAAAA,KAAK,EAAE;EAAEC,QAAAA,EAAE,EAAFA,EAAF;EAAMuC,QAAAA,IAAI,EAAJA,IAAN;EAAYrC,QAAAA,KAAK,EAALA,KAAZ;EAAmBE,QAAAA,IAAI,EAAJA,IAAAA;EAAnB,OAAA;OACN,EAAA,YAAA,CAAA,YALc,CAKC,GAAA,oBALD,EAAjB,YAAA,CAAA,CAAA;EAOA,IAAA,OAAOwE,UAAU,gBACf/E,cAAC,CAAA,QAAD,eACMgF,WADN,EAAA;EAEE,MAAA,KAAK,EAAE1D,KAFT;QAGE,QAAQ,EAAE,SAAC6C,QAAAA,CAAAA,CAAD,EAAO;UACfhB,cAAc,CAACgB,CAAD,CAAd,CAAA;;UACAvC,SAAQ,CAACuC,CAAD,CAAR,CAAA;SALJ;EAOE,MAAA,cAAc,EAAEvD,cAAAA;EAPlB,KAAA,CAAA,CADe,gBAWfZ,cAAA,CAAC,QAAD,EAAA,QAAA,CAAA,EAAA,EACMgF,WADN,EAAA;EAEE,MAAA,YAAY,EAAE1B,SAFhB;EAGE,MAAA,cAAc,EAAE1C,cAAAA;OAdpB,CAAA,CAAA,CAAA;KARF,CAAA;;EA2BA,EAAA,OAAO,CAACsB,QAAD,IAAasB,QAAb,GACHsB,cAAc,CAACxD,KAAK,KAAKqC,SAAV,IAAuB/B,SAAQ,KAAK+B,SAArC,CADX,GAEHc,iBAAiB,EAFrB,CAAA;EAGD,CAAA;EAEDa,YAAY,CAACL,SAAb,GAAyBxC,qBAAzB;;;;;;;;;"}